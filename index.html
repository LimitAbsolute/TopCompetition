<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <!-- Import style -->
  <link rel="stylesheet" href="./element-plus/index.css" />
  <!-- Import Vue 3 -->
  <script src="./vue3/vue.global.js"></script>
  <!-- Import component library -->
  <script src="./element-plus/index.full.js"></script>
  <!-- Import element plus icons -->
  <script src="./element-plus/index.iife.min.js"></script>
  <!-- 引入 ECharts 文件 -->
  <script src="./echarts/echarts.min.js"></script>
  <meta charset="utf-8">
  <title>超级无敌热血激情陀螺争霸赛历届出道名单</title>
</head>

<body>
  <div id="app">
    <el-container>
      <el-header>
        <h1>超级无敌热血激情陀螺争霸赛历届出道名单</h1>
      </el-header>
      <el-main>
        <el-table :data="playerData" stripe :default-sort="{prop:'no',order:'ascending'}">
          <el-table-column label="出道赛季" width="150" prop="no" sortable :sort-orders="['descending','ascending']">
            <template #default="scope">
              <el-button icon="TrophyBase" type="warning" size="large" @click="showCompetition(scope.row.no)">
                S{{scope.row.no+1}}
              </el-button>
            </template>
          </el-table-column>
          <el-table-column label="对战记录" prop="path" width="100">
            <template #default="scope">
              <el-button type="danger" icon="VideoPlay" circle :disabled="scope.row.path==''"
                @click="openVideo(scope.row.path)"></el-button>
            </template>
          </el-table-column>
          <el-table-column label="旋手名称" prop="data">
            <template #default="scope">
              <el-button icon="UserFilled" class="player-button" v-for="player in scope.row.data" size="large"
                type="primary" plain @click="showPlayer(player)">
                {{player.name}}
              </el-button>
            </template>
          </el-table-column>
        </el-table>
      </el-main>
      <el-footer>
        <el-link href="https://space.bilibili.com/1372433" target="_blank" type="info" :underline="false">
          超级无敌热血激情陀螺争霸赛赛委会
        </el-link>
      </el-footer>
    </el-container>

    <el-dialog v-model="playerDialogVisible" :lock-scroll="false" :append-to-body="true" center destroy-on-close>
      <template #header="{titleId}">
        <h3 :id="titleId">旋手简介</h3>
      </template>
      <el-descriptions direction="vertical" border :player="player">
        <el-descriptions-item rowspan="2" width="20%" label="照片" align="center">
          <el-image style="width: 100px; height: 100px" :src="player.photo"></el-image>
        </el-descriptions-item>
        <el-descriptions-item label="名称" width="40%">{{player.name}}</el-descriptions-item>
        <el-descriptions-item label="状态" width="40%">{{player.status}}</el-descriptions-item>
        <el-descriptions-item label="冠军赛季" width="40%">{{player.champion}}</el-descriptions-item>
        <el-descriptions-item label="亚军赛季" width="40%">{{player.runnerUp}}</el-descriptions-item>
        <el-descriptions-item label="参与赛季" span="3">{{player.compete}}</el-descriptions-item>
        <el-descriptions-item label="信息" span="3">{{player.info}}</el-descriptions-item>
      </el-descriptions>
    </el-dialog>

    <el-dialog v-model="competitionDialogVisible" center :no="no" :lock-scroll="false" :append-to-body="true"
      @opened="openCompetition(no)" fullscreen destroy-on-close>
      <template #header="{titleId}">
        <h2 :id="titleId">S{{no+1}}赛季对战表</h2>
      </template>
      <div id="competitionChart" style="width:100%;height:550px;"></div>
    </el-dialog>
  </div>

  <script setup>
    const App = {
      data() {
        return {
          player: {},
          no: 0,
          playerDialogVisible: false,
          competitionDialogVisible: false,
          competitionData: [
            {
              no: 0,
              data: {
                name: "火龙",
                value: "S1赛季为背景设定，战绩未知",
                children: [
                  {
                    name: "火龙",
                    value: "1 : 0",
                    children: [
                      {
                        name: "火龙"
                      },
                      {
                        name: "闪电"
                      }
                    ]
                  },
                  {
                    name: "翠神",
                    value: "1 : 0",
                    children: [
                      { name: "翠神" },
                      { name: "风暴" }
                    ]
                  },
                ]
              }
            },
            {
              no: 1,
              data: {
                name: "翠神",
                value: "2 : 1",
                children: [
                  {
                    name: "水晶",
                    value: "1 : 0",
                    children: [
                      {
                        name: "风暴"
                      },
                      {
                        name: "水晶"
                      }
                    ]
                  },
                  {
                    name: "翠神",
                    value: "1 : 0",
                    children: [
                      { name: "翠神" },
                      { name: "闪电" }
                    ]
                  },
                ]
              }
            },
            {
              no: 2,
              data: {
                name: "中子星",
                value: "2 : 1",
                children: [
                  {
                    name: "中子星",
                    value: "1 : 0",
                    children: [
                      {
                        name: "中子星",
                        value: "1 : 0",
                        children: [
                          { name: "萤火虫" },
                          { name: "中子星" }
                        ]
                      },
                      {
                        name: "翠神",
                        value: "积分最高，自动晋级"
                      }
                    ]
                  },
                  {
                    name: "火龙",
                    value: "1 : 0",
                    children: [
                      {
                        name: "火龙",
                        value: "1 : 0",
                        children: [
                          { name: "火龙" },
                          { name: "闪电" }
                        ]
                      },
                      {
                        name: "风暴",
                        value: "1 : 0",
                        children: [
                          { name: "水晶" },
                          { name: "风暴" }
                        ]
                      }
                    ]
                  },
                ]
              }
            },
            {
              no: 3,
              data: {
                name: "中子星",
                value: "2 : 0",
                children: [
                  {
                    name: "中子星",
                    value: "1 : 0",
                    children: [
                      {
                        name: "中子星",
                        value: "1 : 0",
                        children: [
                          { name: "闪电" },
                          { name: "中子星" }
                        ]
                      },
                      {
                        name: "火龙",
                        value: "1 : 0",
                        children: [
                          { name: "火龙" },
                          { name: "风暴" }
                        ]
                      }
                    ]
                  },
                  {
                    name: "翠神",
                    value: "1 : 0",
                    children: [
                      {
                        name: "翠神",
                        value: "1 : 0",
                        children: [
                          { name: "水晶" },
                          { name: "翠神" }
                        ]
                      },
                      {
                        name: "霰弹枪",
                        value: "1 : 0",
                        children: [
                          { name: "萤火虫" },
                          { name: "霰弹枪" }
                        ]
                      }
                    ]
                  },
                ]
              }
            },
            {
              no: 4,
              data: {
                name: "火龙",
                value: "2 : 1",
                children: [
                  {
                    name: "中子星",
                    value: "1 : 0",
                    children: [
                      {
                        name: "绿魔",
                        value: "1 : 0",
                        children: [
                          { name: "翠神" },
                          { name: "绿魔" }
                        ]
                      },
                      {
                        name: "中子星",
                        value: "1 : 0",
                        children: [
                          { name: "水晶" },
                          { name: "中子星" }
                        ]
                      }
                    ]
                  },
                  {
                    name: "火龙",
                    value: "平局，王朝散架，火龙自动晋级",
                    children: [
                      {
                        name: "火龙",
                        value: "1 : 0",
                        children: [
                          { name: "火龙" },
                          { name: "爆丸" }
                        ]
                      },
                      {
                        name: "王朝",
                        value: "1 : 0",
                        children: [
                          { name: "霰弹枪" },
                          { name: "王朝" }
                        ]
                      }
                    ]
                  },
                ]
              }
            },
            {
              no: 5, data: {
                name: "灰烬",
                value: "2 : 1",
                children: [
                  {
                    name: "风暴",
                    value: "1 : 0",
                    children: [
                      {
                        name: "风暴",
                        value: "1 : 0",
                        children: [
                          { name: "风暴" },
                          { name: "闪电" }
                        ]
                      },
                      {
                        name: "爆丸",
                        value: "1 : 0",
                        children: [
                          { name: "翠神" },
                          { name: "爆丸" }
                        ]
                      }
                    ]
                  },
                  {
                    name: "灰烬",
                    value: "1 : 0",
                    children: [
                      {
                        name: "火龙",
                        value: "1 : 0",
                        children: [
                          { name: "黑曜石" },
                          { name: "火龙" }
                        ]
                      },
                      {
                        name: "灰烬",
                        value: "平局后重赛，1 : 0",
                        children: [
                          { name: "中子星" },
                          { name: "灰烬" }
                        ]
                      }
                    ]
                  },
                ]
              }
            },
            {
              no: 6, data: {
                name: "火龙",
                value: "火龙使用中子星的击发器，2 : 1",
                children: [
                  {
                    name: "风暴",
                    value: "1 : 0",
                    children: [
                      {
                        name: "风暴",
                        value: "1 : 0",
                        children: [
                          { name: "风暴" },
                          { name: "狮鹫" }
                        ]
                      },
                      {
                        name: "翠神",
                        value: "1 : 0",
                        children: [
                          { name: "王朝" },
                          { name: "翠神" }
                        ]
                      }
                    ]
                  },
                  {
                    name: "火龙",
                    value: "1 : 0",
                    children: [
                      {
                        name: "中子星",
                        value: "1 : 0",
                        children: [
                          { name: "中子星" },
                          { name: "灰烬" }
                        ]
                      },
                      {
                        name: "火龙",
                        value: "黑曜石被击碎，火龙晋级",
                        children: [
                          { name: "黑曜石" },
                          { name: "火龙" }
                        ]
                      }
                    ]
                  },
                ]
              }
            },
            {
              no: 7, data: {
                name: "风暴",
                value: "3 : 1",
                children: [
                  {
                    name: "萤火虫",
                    value: "2 : 0",
                    children: [
                      {
                        name: "萤火虫",
                        value: "1 : 0",
                        children: [
                          { name: "萤火虫" },
                          { name: "狮鹫" }
                        ]
                      },
                      {
                        name: "冥王",
                        value: "1 : 0",
                        children: [
                          { name: "中子星" },
                          { name: "冥王" }
                        ]
                      }
                    ]
                  },
                  {
                    name: "风暴",
                    value: "2 : 0",
                    children: [
                      {
                        name: "翠神",
                        value: "1 : 0",
                        children: [
                          { name: "翠神" },
                          { name: "甘露" }
                        ]
                      },
                      {
                        name: "风暴",
                        value: "1 : 0",
                        children: [
                          { name: "黑曜石" },
                          { name: "风暴" }
                        ]
                      }
                    ]
                  },
                ]
              }
            },
            {
              no: 8, data: {
                name: "阎魔",
                value: "3 : 2",
                children: [
                  {
                    name: "火龙",
                    value: "2 : 1",
                    children: [
                      {
                        name: "火龙",
                        value: "1 : 0",
                        children: [
                          { name: "火龙" },
                          { name: "萤火虫" }
                        ]
                      },
                      {
                        name: "中子星",
                        value: "平局后重赛，1 : 0",
                        children: [
                          { name: "灰烬" },
                          { name: "中子星" }
                        ]
                      }
                    ]
                  },
                  {
                    name: "阎魔",
                    value: "2 : 1，黑曜石被击碎",
                    children: [
                      {
                        name: "阎魔",
                        value: "1 : 0",
                        children: [
                          { name: "风暴" },
                          { name: "阎魔" }
                        ]
                      },
                      {
                        name: "黑曜石",
                        value: "两位选手同时爆裂。冥王中轴碎裂，无法复原；黑曜石快速完成修复，自动晋级",
                        children: [
                          { name: "黑曜石" },
                          { name: "冥王" }
                        ]
                      }
                    ]
                  },
                ]
              }
            },
            {
              no: 9, data: {
                name: "阎魔",
                value: "火龙击发器故障，3 : 2",
                children: [
                  {
                    name: "阎魔",
                    value: "2 : 1",
                    children: [
                      {
                        name: "中子星",
                        value: "1 : 0",
                        children: [
                          { name: "中子星" },
                          { name: "狮鹫" }
                        ]
                      },
                      {
                        name: "阎魔",
                        value: "1 : 0",
                        children: [
                          { name: "阎魔" },
                          { name: "翠神" }
                        ]
                      }
                    ]
                  },
                  {
                    name: "火龙",
                    value: "2 : 0，黑曜石两次被击碎",
                    children: [
                      {
                        name: "黑金刚",
                        value: "1 : 0",
                        children: [
                          { name: "火烧云" },
                          { name: "黑金刚" }
                        ]
                      },
                      {
                        name: "火龙",
                        value: "1 : 0",
                        children: [
                          { name: "火龙" },
                          { name: "风暴" }
                        ]
                      }
                    ]
                  },
                ]
              }
            },
            {
              no: 10, data: {
                name: "火龙",
                value: "3 : 2",
                children: [
                  {
                    name: "中子星",
                    value: "2 : 0",
                    children: [
                      {
                        name: "大王乌贼",
                        value: "1 : 0",
                        children: [
                          { name: "萤火虫" },
                          { name: "大王乌贼" }
                        ]
                      },
                      {
                        name: "中子星",
                        value: "1 : 0",
                        children: [
                          { name: "中子星" },
                          { name: "六道光牢" }
                        ]
                      }
                    ]
                  },
                  {
                    name: "火龙",
                    value: "2 : 1",
                    children: [
                      {
                        name: "黑金刚",
                        value: "1 : 0",
                        children: [
                          { name: "黑金刚" },
                          { name: "阎魔" }
                        ]
                      },
                      {
                        name: "火龙",
                        value: "1 : 0",
                        children: [
                          { name: "翠神" },
                          { name: "火龙" }
                        ]
                      }
                    ]
                  },
                ]
              }
            }
          ],
          playerData: [
            {
              no: 0,
              path: "",
              data: [
                { photo: "./photo/1.jpg", name: "火龙", status: "S11退役", champion: "S1、S5、S7、S11", runnerUp: "S3、S9、S10", compete: "S1、S3、S4、S5、S6、S7、S9、S10、S11", info: "大赛四冠王，伟大无需多言！" },
                { photo: "./photo/2.jpg", name: "翠神", status: "S11退役", champion: "S2", runnerUp: "S1、S4", compete: "S1、S2、S3、S4、S5、S6、S7、S8、S10、S11", info: "战术大师。" },
                { photo: "./photo/3.jpg", name: "风暴", status: "在役", champion: "S8", runnerUp: "S6、S7", compete: "S1、S2、S3、S4、S6、S7、S8、S9、S10", info: "待补充" },
                { photo: "./photo/4.jpg", name: "闪电", status: "在役", champion: "-", runnerUp: "-", compete: "S1、S2、S3、S4、S6", info: "待补充" },
              ]
            },
            {
              no: 1,
              path: "https://www.bilibili.com/video/BV1DS4y167wc",
              data: [
                { photo: "./photo/5.jpg", name: "水晶", status: "在役", champion: "-", runnerUp: "S2", compete: "S2、S3、S4、S5", info: "待补充" },
              ]
            },
            {
              no: 2,
              path: "https://www.bilibili.com/video/BV1RK411S7T8",
              data: [
                { photo: "./photo/6.jpg", name: "萤火虫", status: "在役", champion: "-", runnerUp: "S8", compete: "S3、S4、S8、S9、S11", info: "待补充" },
                { photo: "./photo/7.jpg", name: "中子星", status: "在役", champion: "S3、S4", runnerUp: "S5、S11", compete: "S3、S4、S5、S6、S7、S8、S9、S10、S11", info: "待补充" },
              ]
            },
            {
              no: 3,
              path: "https://www.bilibili.com/video/BV1xQ4y1873v",
              data: [
                { photo: "./photo/8.jpg", name: "霰弹枪", status: "在役", champion: "-", runnerUp: "-", compete: "S4、S5", info: "待补充" },
              ]
            },
            {
              no: 4,
              path: "https://www.bilibili.com/video/BV14D421J7Rm",
              data: [
                { photo: "./photo/9.jpg", name: "绿魔", status: "在役", champion: "-", runnerUp: "-", compete: "S5", info: "待补充" },
                { photo: "./photo/10.jpg", name: "王朝", status: "在役", champion: "-", runnerUp: "-", compete: "S5、S7", info: "待补充" },
                { photo: "./photo/11.jpg", name: "爆丸", status: "在役", champion: "-", runnerUp: "-", compete: "S5、S6", info: "待补充" },
              ]
            },
            {
              no: 5,
              path: "https://www.bilibili.com/video/BV1vm421N7Wz",
              data: [
                { photo: "./photo/12.jpg", name: "黑曜石", status: "S10升级为黑金刚", champion: "-", runnerUp: "-", compete: "S6、S7、S8、S9", info: "待补充" },
                { photo: "./photo/13.jpg", name: "灰烬", status: "在役", champion: "S6", runnerUp: "-", compete: "S6、S7、S9", info: "待补充" },
              ]
            },
            {
              no: 6,
              path: "https://www.bilibili.com/video/BV1dw4m1e71J",
              data: [
                { photo: "./photo/14.jpg", name: "狮鹫", status: "在役", champion: "-", runnerUp: "-", compete: "S7、S8、S10", info: "待补充" },
              ]
            },
            {
              no: 7,
              path: "https://www.bilibili.com/video/BV1hM4m117GV",
              data: [
                { photo: "./photo/15.jpg", name: "冥王", status: "S9退役", champion: "-", runnerUp: "-", compete: "S8、S9", info: "待补充" },
                { photo: "./photo/16.jpg", name: "甘露", status: "在役", champion: "-", runnerUp: "-", compete: "S8", info: "待补充" },
              ]
            },
            {
              no: 8,
              path: "https://www.bilibili.com/video/BV1dM4m1a789",
              data: [
                { photo: "./photo/17.jpg", name: "阎魔", status: "在役", champion: "S9、S10", runnerUp: "-", compete: "S9、S10、S11", info: "待补充" },
              ]
            },
            {
              no: 9,
              path: "https://www.bilibili.com/video/BV1Jn1DYhEcB",
              data: [
                { photo: "./photo/18.jpg", name: "火烧云", status: "在役", champion: "-", runnerUp: "-", compete: "S10", info: "待补充" },
                { photo: "./photo/19.jpg", name: "黑金刚", status: "在役", champion: "-", runnerUp: "-", compete: "S10、S11", info: "黑曜石超级升级版" }
              ]
            },
            {
              no: 10,
              path: "https://www.bilibili.com/video/BV12okmYtEzw",
              data: [
                { photo: "./photo/20.jpg", name: "大王乌贼", status: "在役", champion: "-", runnerUp: "-", compete: "S11", info: "待补充" },
                { photo: "./photo/21.jpg", name: "六道光牢", status: "在役", champion: "-", runnerUp: "-", compete: "S11", info: "待补充" },
              ]
            },
          ]
        };
      },
      methods: {
        showPlayer(player) {
          this.playerDialogVisible = true;
          this.player = player;
        },
        getCompetitionData(no) {
          for (i of this.competitionData) {
            if (i.no == no) return i.data;
          }
          return {};
        },
        openCompetition(no) {
          const competitionChart = echarts.init(document.getElementById("competitionChart"));
          competitionChart.setOption({
            tooltip: {
              trigger: "item",
              triggerOn: "mousemove",
              formatter: "{c}"
            },
            series: [
              {
                type: "tree",
                data: [this.getCompetitionData(no)],
                symbol: "arrow",
                symbolSize: 24,
                symbolOffset: [0, "-10%"],
                edgeShape: "polyline",
                orient: 'vertical',
                initialTreeDepth: -1,
                lineStyle: {
                  width: 2,
                  color: "#909399"
                },
                itemStyle: {
                  color: "#409EFF",
                },
                label: {
                  fontSize: 18,
                  backgroundColor: "#fff",
                  position: "top",
                  padding: 2
                },
                leaves: {
                  label: {
                    position: "bottom"
                  }
                },
              }
            ]
          });
        },
        showCompetition(no) {
          this.competitionDialogVisible = true;
          this.no = no;
        },
        openVideo(path) {
          window.open(path, "_blank");
        }
      }
    };
    const app = Vue.createApp(App);
    //从 @element-plus/icons-vue 中导入所有图标并进行全局注册
    for (const [key, component] of Object.entries(ElementPlusIconsVue)) {
      app.component(key, component)
    }
    app.use(ElementPlus);
    app.mount("#app");
  </script>
  <style scoped>
    .el-header,
    .el-footer {
      text-align: center;
    }

    .player-button {
      margin: 5px 10px 5px 0 !important;
    }

    td {
      word-break: break-all;
    }
  </style>
</body>

</html>